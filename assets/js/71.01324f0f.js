(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{587:function(t,a,s){"use strict";s.r(a);var e=s(6),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-打包优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-打包优化"}},[t._v("#")]),t._v(" 1 打包优化")]),t._v(" "),s("ol",[s("li",[t._v("code spliting optimization 设置splitChunks")]),t._v(" "),s("li",[t._v("tree-shaking optimization 设置使用terserPlugin ，配置usedExports:true,sideEffects,css在loader中添加sideEffects为true")]),t._v(" "),s("li",[t._v("externals 外部依赖使用CDN")]),t._v(" "),s("li",[t._v("g-zip"),s("br"),t._v("\n文件资源： 二进制，文本资源"),s("br"),t._v("\ng-zip开启会造成服务器的IO压力，一般对js,css文件进行开启，因为是文本资源，像图片，是二进制资源不可以开启g-zip压缩")])]),t._v(" "),s("h2",{attrs:{id:"_2-缓存优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-缓存优化"}},[t._v("#")]),t._v(" 2 缓存优化")]),t._v(" "),s("p",[t._v("hash chunkhash contenthash"),s("br"),t._v("\n（Last-Modified 和 If-Modified-Since）/（etag  和  if-none-match）\n强缓存，协商缓存")]),t._v(" "),s("h2",{attrs:{id:"_3-资源下载优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-资源下载优化"}},[t._v("#")]),t._v(" 3 资源下载优化")]),t._v(" "),s("p",[t._v("async defer\npreload prefetch")]),t._v(" "),s("h2",{attrs:{id:"_4-dns-预加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-dns-预加载"}},[t._v("#")]),t._v(" 4 dns 预加载")]),t._v(" "),s("p",[t._v("浏览器缓存 - 系统缓存 - 路由器缓存 - ISP DNS缓存 - 递归搜索"),s("br")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("//用meta信息来告知浏览器, 当前页面要做DNS预解析\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("x-dns-prefetch-control"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n//在页面header中使用link标签来强制对DNS预解析: \n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dns-prefetch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("//www.zhix.net"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("资源预加载："),s("code",[t._v('<link rel="prefetch" href="test.css">')]),s("br"),t._v("\nDNS预解析： "),s("code",[t._v('<link rel="dns-prefetch" href="//haitao.nos.netease.com">')]),s("br"),t._v("\nhttp预连接："),s("code",[t._v('<link rel="prefetch" href="//www.kaola.com">')]),t._v(" 将建立对该域名的TCP链接"),s("br"),t._v("\n页面预渲染："),s("code",[t._v('<link rel="prerender" href="//m.kaola.com">')]),t._v(" 将会预先加载链接文档的所有资源"),s("br")]),t._v(" "),s("h2",{attrs:{id:"_5-图片预加载-图片懒加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-图片预加载-图片懒加载"}},[t._v("#")]),t._v(" 5 图片预加载，图片懒加载")]),t._v(" "),s("h2",{attrs:{id:"_6-长列表优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-长列表优化"}},[t._v("#")]),t._v(" 6 长列表优化")]),t._v(" "),s("p",[t._v("window.scrollY 获取整个可视窗口上面的高度"),s("br"),t._v("\nel.getBoundingClientRect().top 获取元素距离可视窗口上面的距离"),s("br"),t._v("\nwindow.innerHeight 获取整个可视窗口的高度"),s("br")]),t._v(" "),s("p",[t._v("防抖节流"),s("br")]),t._v(" "),s("ol",[s("li",[t._v("window.scrollY > prevY(window.scrollY) 表示往下滑动")]),t._v(" "),s("li",[t._v("el.getBoundingClientRect().top <= window.innerHeight 加载下一页面的数据")])]),t._v(" "),s("h2",{attrs:{id:"_7-seo优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-seo优化"}},[t._v("#")]),t._v(" 7 seo优化")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developers.google.com/web/tools/lighthouse",target:"_blank",rel:"noopener noreferrer"}},[t._v("lighthouse"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_8-回流重绘的优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-回流重绘的优化"}},[t._v("#")]),t._v(" 8 回流重绘的优化")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://juejin.cn/post/6844904083212468238",target:"_blank",rel:"noopener noreferrer"}},[t._v("重排重绘"),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://juejin.cn/post/6844903574091071495",target:"_blank",rel:"noopener noreferrer"}},[t._v("优化"),s("OutboundLink")],1),s("br"),t._v("\n避免回流和重绘"),s("br"),t._v("\ncss "),s("br")]),t._v(" "),s("ul",[s("li",[t._v("将动画效果应用到position属性为absolute或fixed的元素上，避免影响其他元素的布局，这样只是一个重绘，而不是回流，同时，控制动画速度可以选择 requestAnimationFrame，详见探讨 requestAnimationFrame。")]),t._v(" "),s("li",[t._v("避免使用CSS表达式，可能会引发回流。")]),t._v(" "),s("li",[t._v("将频繁重绘或者回流的节点设置为图层，图层能够阻止该节点的渲染行为影响别的节点，例如will-change、video、iframe等标签，浏览器会自动将该节点变为图层。")]),t._v(" "),s("li",[t._v("CSS3 硬件加速（GPU加速），使用css3硬件加速，可以让transform、opacity、filters这些动画不会引起回流重绘 。但是对于动画的其它属性，比如background-color这些，还是会引起回流重绘的，不过它还是可以提升这些动画的性能。")])]),t._v(" "),s("p",[t._v("JavaScript"),s("br")]),t._v(" "),s("ul",[s("li",[t._v("避免频繁操作样式，最好一次性重写style属性，或者将样式列表定义为class并一次性更改class属性。")]),t._v(" "),s("li",[t._v("避免频繁操作DOM，创建一个documentFragment，在它上面应用所有DOM操作，最后再把它添加到文档中。")]),t._v(" "),s("li",[t._v("避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来。")]),t._v(" "),s("li",[t._v("对具有复杂动画的元素使用绝对定位，使它脱离文档流，否则会引起父元素及后续元素频繁回流。")])])])}),[],!1,null,null,null);a.default=n.exports}}]);